# 开源中国社区

### Header 3

> This is a blockquote.
> 
> This is the second paragraph in the blockquote.
>
> ## This is an H2 in a blockquote


```java

对于PM压缩功能

在定时生成性能文件时进行时间判断，当每日0点进行性能文件归档。

/**
 * FileName: 压缩文件名
 * zipPath：压缩存放目录，sets中可配置
 **/

1.将当天的性能文件归档为压缩包，存放于zipPath，压缩文件名为FileName

public static void zip(String FileName, String zipPath) 

2.归档压缩后，将原来生成的文件删除

public static void recurDelete(File f)

3.每周将7个压缩包先解压，后归档为周压缩包，压缩名为FirstDate-LastDate.zip

/**
 * zippath: 需要解压缩的文件目录
 * unzipPath：压缩存放目录
 **/

public static void unzip(String zipPath, String unzipPath)

public void weeklyZip()

4.将解压文件删除

对于消息文件

/**
 * path: 输出文件路径
 * FileName：输出文件名
 * msg：输出消息
 **/

public static void SavetoFile(String path,String FileName,String msg) 

每个客户端对接受的消息进行输出，输出路径可配置：sets中的ClientMsgPahth

服务端对每条消息的输出，输出路径可配置：sets中的ServerMsgPath



压缩时间配置zipSpace（单位秒，默认86400s，即42h）

压缩包归档时间配置zipFiled（单位秒，默认604800s，即7天）

【注】归档时间必须不小于压缩时间间隔，若配置时出错使归档时间小于压缩时间间隔，则自动设置归档时间为压缩时间的2倍）


```